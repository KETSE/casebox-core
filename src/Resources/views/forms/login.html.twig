{% extends 'CaseboxCoreBundle::login.html.twig' %}

{% block form %}
    <script type="text/javascript">
        //<--
        String.prototype.trim = function () {
            return this.replace(/^\s+|\s+$/g, "");
        };
        function editChanged() {
            var s = document.getElementById('s');
            if (!s) {
                return;
            }
            var u = document.getElementById('u'),
                p = document.getElementById('p');
            if (e && u) {
                s.disabled = ((e && (e.value.trim() == '') ) && (u && (u.value.trim() == '') ));
            }
            setTimeout(editChanged, 500)
        }
        //-->
    </script>

    <form method="post" action="/c/{{ coreName }}/login/auth" class="standart_form tal" autocomplete="off">
        <label>
            <input type="text" name="u" id="u" placeholder="{{ 'Username'|trans }}">
            <span class="icon-user"></span>
        </label>
        <label>
            <input type="password" name="p" id="p" placeholder="{{ 'Password'|trans }}" onkeydown="javascript:editChanged()">
            <span class="icon-lock"></span>
        </label>
        <a style="margin-top: 30px;" class="pull-right" href="/c/{{ coreName }}/recover/forgot-password">{{ 'ForgotPassword'|trans }}</a>
        <input type="submit" name="s" id="s" value="{{ 'Login'|trans }}" class="btn btn-info" style="margin-top: 26px;" disabled>
    </form>
{% endblock %}